import{m as N,b as y,r as o,g as k,k as S,u as E,j as e,U as C,N as P,a9 as L}from"./index-BkiSd4PU.js";import{u as q}from"./index.esm-jopHQKlN.js";import{E as V}from"./eye-D4vTZyAt.js";import{E as F}from"./eye-off-BdMYjNIQ.js";import{L as U}from"./loader-circle-H1FoM2ES.js";const A=()=>{var m,x;const b=N(),i=new Date,{toast:n}=y(),[d,p]=o.useState(!1),[r,h]=o.useState(!1),f=k(),{user:s,isPending:a,error:g}=S(l=>l.auth),{register:c,handleSubmit:w,formState:{errors:t},reset:u}=q(),j=E(),v=l=>{p(!0),f(L(l))};return o.useEffect(()=>{console.log("signInResponse : ",s),console.log("signInError : ",g),s!=null&&s.success&&d&&!a&&(n({title:s==null?void 0:s.message,description:`At ${i.toLocaleTimeString()}`,variant:"default",duration:1e3}),b.invalidateQueries({queryKey:["userProfile","dashboard","playVideo","fetchPlaylistVideos","watchlaterVideos","fetchPlaylists","fetchPlaylistVideos","watchHistoryVideos"]}),j(-1),u()),!(s!=null&&s.success)&&d&&!a&&n({title:"something went wrong try with proper Credentials",description:`At ${i.toLocaleTimeString()}`,variant:"destructive",duration:1e3})},[a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:e.jsxs("div",{className:"text-black shadow-[0px_0px_12px_0px_black] dark:text-white border-2 max-w-[470px] mx-5 w-full rounded-xl p-7 bg-white dark:bg-gray-800",children:[e.jsxs("div",{className:"flex w-full justify-between mb-10",children:[e.jsx("h1",{className:"text-2xl font-semibold cursor-pointer animate-pulse",children:"Sign-In"}),e.jsxs("div",{className:"flex gap-2 items-center cursor-pointer",children:[e.jsx("img",{className:"size-6 sm:size-9 rounded-full",src:"https://lh3.googleusercontent.com/rormhrw_yZt2v1OKZBaiFCSt8b8QU02kEKiuilfgnpGkOMQd87xm7b7SyIlGoHsL18M",alt:"Logo"}),e.jsx("p",{className:"text-slate-800 text-lg sm:text-xl font-semibold dark:text-white",children:"Video-Tube"})]})]}),e.jsxs("form",{className:"space-y-7 w-full relative",onSubmit:w(v),method:"post",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"username",className:"text-[14px] flex w-full justify-between sm:text-[18px]",children:["Username",e.jsx(C,{className:`${(m=t==null?void 0:t.username)!=null&&m.message?"text-red-500":"text-green-700"} hover:scale-105 transition-all`})]}),e.jsx("input",{autoComplete:"off",autoFocus:!0,placeholder:"username",type:"text",id:"username",...c("username",{required:"Username is required"}),className:"bg-transparent pl-3 border-b-[2px] mt-2 rounded-xl p-1 outline-none border-blue-700 dark:border-white-500 dark:focus:border-blue-500 w-full"}),t.username&&e.jsx("span",{className:"text-red-500 absolute -bottom-1 left-0 text-xs",children:t.username.message})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"password",className:"text-[14px] flex w-full justify-between sm:text-[18px]",children:["Password:",e.jsx("div",{onClick:()=>h(!r),className:`${(x=t==null?void 0:t.password)!=null&&x.message?"text-red-500":"text-green-700"} size-5 sm:size-7 hover:scale-105 transition-all`,children:r?e.jsx(V,{}):e.jsx(F,{})})]}),e.jsx("input",{type:r?"text":"password",placeholder:"password",id:"password",...c("password",{required:"Password is required"}),className:"bg-transparent pl-3 border-b-[2px] mt-2 rounded-xl p-1 outline-none border-blue-700 dark:border-white-500 dark:focus:border-blue-500 w-full"}),t.password&&e.jsx("span",{className:"text-red-500 absolute -bottom-7 left-0 text-xs",children:t.password.message})]}),e.jsxs("div",{className:"flex gap-3 text-[14px] sm:text-[17px]",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 dark:bg-blue-700 p-1 dark:hover:bg-blue-900 text-white outline-none font-bold rounded w-full",children:a?e.jsx(U,{className:"animate-spin inline-block mr-2"}):"Sign In"}),e.jsx("button",{type:"reset",onClick:()=>u(),className:"bg-red-500 hover:bg-red-700 dark:bg-red-700 p-1 dark:hover:bg-red-900 text-white outline-none font-bold rounded w-full",children:"Reset"})]})]}),e.jsxs("div",{className:"w-full flex justify-center pt-4 gap-4 text-black dark:text-white",children:["Don't have an account?"," ",e.jsx(P,{to:"/signup",className:"text-blue-500 dark:text-blue-300 underline",children:"Create Account"})]})]})})};export{A as default};
