import{c as k,r as l,j as e,a as M,u as E,b as O,B as o,d as x}from"./index-DLPQuFyB.js";import{D as u,a as m,b as g,c as v,d as h,e as j}from"./dialog-Cs5hdKfH.js";import{A as G}from"./APIError-BWhawoey.js";import{u as p}from"./useMutation-CLAA17dP.js";import{L as w}from"./loader-circle-Ct6UWSQg.js";import"./eye-off-BKLs_M59.js";import"./utils-km2FGkQ4.js";/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=k("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=k("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=k("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),b=l.forwardRef(({className:a,type:d,...f},c)=>e.jsx("input",{type:d,className:M("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...f}));b.displayName="Input";function _(){const a=new Date,[d,f]=l.useState(""),[c,A]=l.useState(""),[i,z]=l.useState(""),[L,B]=l.useState(""),[I,D]=l.useState(""),[$,F]=l.useState("");E();const{toast:s}=O(),y=p({mutationFn:async({oldPassword:t,newPassword:n})=>{const r=await x.patch("/api/v1/users/change-password",{oldPassword:t,newPassword:n});return r==null?void 0:r.data},onSuccess:()=>{s({title:"Password Change Successfully",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"default",duration:2e3})},onError:()=>{s({title:"Password Change Failed Try Once again . . . . !",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"destructive",duration:2e3})}}),N=p({mutationFn:async({avatar:t})=>{const n=new FormData;n.append("avatar",t[0]);const r=await x.patch("/api/v1/users/change-avatar",n,{headers:{"Content-Type":"multipart/form-data"}});return r==null?void 0:r.data},onSuccess:()=>{s({title:"Avatar Change Successfully",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"default",duration:2e3})},onError:()=>{s({title:"Avatar Change Failed Try Once again . . . . !",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"destructive",duration:2e3})}}),C=p({mutationFn:async({coverImage:t})=>{const n=new FormData;n.append("coverImage",t[0]);const r=await x.patch("/api/v1/users/change-coverimage",n);return r==null?void 0:r.data},onSuccess:()=>{s({title:"Cover-Image Change Successfully",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"default",duration:2e3})},onError:()=>{s({title:"Cover-Image Change Failed Try Once again . . . . !",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"destructive",duration:2e3})}}),S=p({mutationFn:async()=>{const t=await x.get("/api/v1/users/generate-newtokens");return t==null?void 0:t.data},onSuccess:()=>{s({title:"New Auth token where generated successfully Successfully",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"default",duration:2e3})},onError:()=>{s({title:"New Auth token where generation Failed Try Once again . . . . !",description:`At ${a.toLocaleTimeString()} 
 ${a.toLocaleDateString()}`,variant:"destructive",duration:2e3})}});return e.jsxs("div",{className:"min-h-screen w-full px-4 min-w-[375px] bg-white dark:bg-black",children:[i&&e.jsx(G,{}),e.jsx("h1",{className:"text-3xl text-center py-7 text-slate-900 dark:text-slate-300 font-semibold",children:"Customize Profile"}),e.jsxs("div",{className:"grid place-items-center text-slate-700 dark:text-slate-500 space-y-6",children:[e.jsxs(u,{children:[e.jsx(m,{asChild:!0,children:e.jsx(o,{variant:"outline",className:"w-full py-6 max-w-[250px] border-slate-600 dark:border-slate-400 rounded-xl text-[18px] hover:scale-95 transition-all",children:"Change Password"})}),e.jsxs(g,{className:"sm:max-w-[425px] w-full text-slate-900 dark:text-white border-slate-900 dark:border-white rounded-xl px-4",children:[e.jsx(v,{children:e.jsx(h,{children:"Change Your Password"})}),e.jsxs("div",{className:"grid items-center justify-around w-full gap-4 py-4",children:[e.jsxs("div",{className:"flex items-center w-full justify-between gap-5",children:[e.jsxs("p",{className:"flex gap-2 w-full items-center",children:[e.jsx(T,{}),"Old Password"]}),e.jsx(b,{id:"old-password",value:d,onChange:t=>f(t.target.value),className:"rounded-xl w-full min-w-[200px] bg-gray-100 dark:bg-gray-800 text-black dark:text-white"})]}),e.jsxs("div",{className:"flex items-center w-full justify-between gap-5",children:[e.jsxs("p",{className:"flex gap-2 w-full items-center",children:[e.jsx(T,{}),"New Password"]}),e.jsx(b,{id:"new-password",value:c,onChange:t=>A(t.target.value),className:"rounded-xl w-full min-w-[200px] bg-gray-100 dark:bg-gray-800 text-black dark:text-white"})]})]}),e.jsx(j,{children:e.jsx("button",{onClick:()=>y.mutate({oldPassword:d,newPassword:c}),className:"px-2 py-1 rounded-xl border-[1px] border-slate-900 dark:border-white",children:y.isPending?e.jsx(w,{className:"animate-spin"}):"Submit"})})]})]}),e.jsxs(u,{children:[e.jsx(m,{asChild:!0,children:e.jsx(o,{variant:"outline",className:"w-full py-6 max-w-[250px] border-slate-600 dark:border-slate-400 rounded-xl text-[18px] hover:scale-95 transition-all",children:"Change Avatar"})}),e.jsxs(g,{className:"sm:max-w-[425px] w-full text-slate-900 dark:text-white border-slate-900 dark:border-white rounded-xl px-4",children:[e.jsx(v,{children:e.jsx(h,{children:"Change Your Avatar Image"})}),e.jsx("div",{className:"grid items-center justify-around w-full gap-4 py-4",children:e.jsxs("div",{className:"flex items-center w-full justify-between gap-5",children:[e.jsxs("p",{className:"flex gap-2 w-full items-center",children:[e.jsx(P,{}),"Avatar Image"]}),e.jsx("input",{type:"file",onChange:t=>D(t.target.files),className:"rounded-xl w-full min-w-[200px] bg-gray-100 dark:bg-gray-800 text-black dark:text-white"})]})}),i&&e.jsx("p",{className:"text-red-500 dark:text-red-400",children:i}),e.jsx(j,{children:e.jsx("button",{onClick:()=>N.mutate({avatar:I}),className:"px-2 py-1 max-w-[250px] grid place-items-center mx-auto w-full rounded-xl border-[1px] border-slate-900 dark:border-white",children:N.isPending?e.jsx(w,{className:"animate-spin"}):"Upload"})})]})]}),e.jsxs(u,{children:[e.jsx(m,{asChild:!0,children:e.jsx(o,{variant:"outline",className:"w-full py-6 max-w-[250px] border-slate-600 dark:border-slate-400 rounded-xl text-[18px] hover:scale-95 transition-all",children:"Change Cover Image"})}),e.jsxs(g,{className:"sm:max-w-[425px] w-full text-slate-900 dark:text-white border-slate-900 dark:border-white rounded-xl px-4",children:[e.jsx(v,{children:e.jsxs(h,{className:"flex gap-2",children:[e.jsx(Y,{}),"Change Your profile Cover Image"]})}),e.jsx("div",{className:"grid items-center justify-around w-full gap-4 py-4",children:e.jsxs("div",{className:"flex items-center w-full justify-between gap-5",children:[e.jsxs("p",{className:"flex gap-2 w-full items-center",children:[e.jsx(P,{}),"Cover Image"]}),e.jsx("input",{type:"file",onChange:t=>F(t.target.files),className:"rounded-xl w-full min-w-[200px] bg-gray-100 dark:bg-gray-800 text-black dark:text-white"})]})}),i&&e.jsx("p",{className:"text-red-500 dark:text-red-400",children:i}),e.jsx(j,{children:e.jsx("button",{onClick:()=>C.mutate({coverImage:$}),className:"px-2 py-1 max-w-[250px] grid place-items-center mx-auto w-full rounded-xl border-[1px] border-slate-900 dark:border-white",children:C.isPending?e.jsx(w,{className:"animate-spin"}):"Upload"})})]})]}),e.jsxs(u,{children:[e.jsx(m,{asChild:!0,children:e.jsx(o,{variant:"outline",className:"w-full py-6 max-w-[250px] border-slate-600 dark:border-slate-400 rounded-xl text-[18px] hover:scale-95 transition-all",children:"Get New Tokens"})}),e.jsxs(g,{className:"sm:max-w-[455px] w-full grid place-items-center text-slate-900 dark:text-white border-slate-900 dark:border-white rounded-xl px-4",children:[e.jsx(h,{children:"Get new Tokens for Authentication"}),e.jsx(o,{onClick:()=>S.mutate(),className:"border-[1px] min-w-20 w-full border-slate-600 dark:border-slate-400 p-2 rounded-xl mt-3 max-w-40 hover:scale-95 transition-all",children:S.isPending?e.jsx(w,{className:"animate-spin"}):"Get Tokens"}),i&&e.jsx("p",{className:"text-red-700 dark:text-red-400",children:"Token generating Process failed.....!"}),L&&e.jsx("p",{className:"text-green-700 dark:text-green-400",children:"Tokens generated successfully.....!"})]})]})]})]})}export{_ as default};
